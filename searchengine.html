<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los Redimidos de Jesús</title>
    <link rel="icon" type="image/jpg" href="logo.png">
    <script src="https://kit.fontawesome.com/92d70a2fd8.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="searchengine.css">
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <div class="sidehead">
                <div class="dots">
                    <i class="fa-solid fa-circle"></i>
                    <i class="fa-solid fa-circle" style="color: #333;"></i>
                    <i class="fa-solid fa-circle"></i>
                </div>
                <hr style="margin: 15px 0; border: 1px solid #eee;">
            </div>
            <div class="sidebody" style="height: 69vh;">
                <div class="searchbar">
                    <input placeholder="Buscar..." id="searchBar" name="searchBar" type="text">
                    <i class="fa-solid fa-magnifying-glass glass"></i>
                </div>
            </div>
            <div class="sidefoot">
                <hr style="margin: 15px 0; border: 1px solid #eee;">
                <div class="social-icons">
                    <i class="fa-brands fa-square-facebook"></i>
                    <i class="fa-brands fa-youtube"></i>
                    <i class="fa-brands fa-square-github"></i>
                </div>
            </div>
        </div>
        <div class="data">
            <div class="top">
                <p>Credenciales del Ministerio</p>
                <p>Los Redimidos De Jesús</p>
            </div>
            <div class="header">
                <p>CREDENCIALES</p>
            </div>
            <div class="body">
                <div id="root"></div>
            </div>
        </div>
    </div>

    <script>
        const product = [
            {
                id: 0,
                coverImage: 'image/omarportada.png',
                frontImage: 'image/omar1.png',
                backImage: 'image/omar2.png',
                title: 'Omar Antonio Méndez',
                title2: 'Pastor General/Obispo',
            },
            {
                id: 1,
                coverImage: 'image/martaportada.png',
                frontImage: 'image/marta1.png',
                backImage: 'image/marta2.png',
                title: 'Marta Carro',
                title2: 'Evangelista',
            },
            {
                id: 2,
                coverImage: 'image/noeliaportada.png',
                frontImage: 'image/noelia1.png',
                backImage: 'image/noelia2.png',
                title: 'Noelia Acosta',
                title2: 'Anciana',
            },
            {
                id: 3,
                coverImage: 'image/marianoportada.png',
                frontImage: 'image/mariano1.png',
                backImage: 'image/mariano2.png',
                title: 'mariano kler',
                title2: 'Anciano',
            },
            {
                id: 4,
                coverImage: 'image/saraportada.png',
                frontImage: 'image/sara1.png',
                backImage: 'image/sara2.png',
                title: 'Sara Mareco',
                title2: 'Anciana',
            },
            {
                id: 5,
                coverImage: 'image/lauraportada.png',
                frontImage: 'image/laura1.png',
                backImage: 'image/laura2.png',
                title: 'Laura Núñez',
                title2: 'Anciana',
            },
            {
                id: 6,
                coverImage: 'image/orlandoportada.png',
                frontImage: 'image/orlando1.png',
                backImage: 'image/orlando2.png',
                title: 'Orlando Nuñez',
                title2: 'Evangelista',
            },
            {
                id: 7,
                coverImage: 'image/carolinaportada.png',
                frontImage: 'image/carolina1.png',
                backImage: 'image/carolina2.png',
                title: 'Carolina kler',
                title2: 'Anciana',
            },
            {
                id: 8,
                coverImage: 'image/ramónportada.png',
                frontImage: 'image/ramon1.png',
                backImage: 'image/ramon2.png',
                title: 'Ramón Silveira',
                title2: 'Anciano',
            },
            {
                id: 9,
                coverImage: 'image/silvinaportada.png',
                frontImage: 'image/cc-1.jpg',
                backImage: 'image/gg-1.jpg',
                title: 'Silvina Espíndola',
                title2: 'Anciana',
            },
            {
                id: 10,
                coverImage: 'image/omarportada.png',
                frontImage: 'image/cc-1.jpg',
                backImage: 'image/gg-1.jpg',
                title: 'Andrés Mareco',
                title2: 'Pastor',
            },
            {
                id: 11,
                coverImage: 'image/carmenargentoportada.png',
                frontImage: 'image/carmen1.png',
                backImage: 'image/carmen2.png',
                title: 'Estela Carmen Argento',
                title2: 'Pastora',
            },
            {
                id: 11,
                coverImage: 'image/jorgeportada.png',
                frontImage: 'image/cc-1.jpg',
                backImage: 'image/gg-1.jpg',
                title: 'Jorge Toba',
                title2: 'Pastor',
            },
        ];

        const categories = [...new Set(product.map((item) => { return item }))]

        document.getElementById('searchBar').addEventListener('keyup', (e) => {
            const searchData = e.target.value.toLowerCase();
            const filteredData = categories.filter((item) => {
                return (
                    item.title.toLowerCase().includes(searchData)
                )
            })
            displayItem(filteredData)
        });

        const displayItem = (items) => {
            document.getElementById('root').innerHTML = items.map((item) => {
                var { coverImage, frontImage, backImage, title, title2 } = item;
                return (
                    `<div class='box'>
                <div class='img-box'>
                <img class='images' src=${coverImage}></img> <!-- Mostramos la portada aquí -->
                </div> 
                <div class='bottom'>
                <p>${title}</p>
                <p>${title2}</p>
                <button onclick="openImages('${frontImage}', '${backImage}')">Ver credencial</button>
                </div>
            </div>`
                )
            }).join('')
        };

        // Función para abrir ambas imágenes en nuevas pestañas
        function openImages(frontImage, backImage) {
            window.open(frontImage, '_blank'); // Abre la imagen frontal
            setTimeout(() => { // Retrasa la apertura de la imagen trasera
                window.open(backImage, '_blank');
            }, 500); // Retraso de 500 ms
        }

        displayItem(categories);

    </script>

    


    <script src="searchengine.js"></script>
</body>

</html>